{% extends 'base.html' %}

{% block head %}
<h1>حاسبة التضخم السعودي</h1>
<header>
  <nav>
    <div class="Opt-logo-container">
      <img src="https://i.imgur.com/Adh6zlE.png" alt="options logo">
    </div>
    <ul class="opt-bar">
      <li><a href="#Calculator">حاسبة التضخم</a></li>
      <li><a href="#About">من نحن</a></li>
    </ul>
  </nav>
</header>
{% endblock %}

{% block body %}
<form action="{{ url_for('calculate') }}" method="POST">
  <div>
    <label for="nowNum">المبلغ:</label>
    <input type="number" id="nowNum" name="nowNum" placeholder="ادخل المبلغ">
  </div>
  <div>
    <label for="date">تاريخ المبلغ:</label>
    <input type="number" id="date" name="date" min="2018" max="2023" placeholder="ادخل السنة (2018-2023)">
  </div>
  <br>
  <div>
    <button type="submit">احسب</button>
  </div>
  <div>
    <label for="display">القيمة في سنه 2024:</label>
<input id="display" name="result" value="{{ result }}" readonly>
  </div>
  <p id="error_message"></p>  </form>
<script>
  // Handle form submission and display errors (optional)
  document.querySelector('form').addEventListener('submit', function(event) {
    const nowNum = document.getElementById('nowNum').value;
    const date = document.getElementById('date').value;
    const errorMessage = document.getElementById('error_message');

    if (!nowNum || isNaN(nowNum)) {
      errorMessage.textContent = 'خطأ: يرجى إدخال رقم صالح للمبلغ.';
      event.preventDefault();
    } else if (!date || isNaN(date) || parseInt(date) < 2018 || parseInt(date) > 2023) {
      errorMessage.textContent = 'خطأ: يرجى إدخال سنة صالحة (2018-2023).';
      event.preventDefault();
    }
  });
</script>
{% endblock %}
