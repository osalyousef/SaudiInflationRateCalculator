{% extends 'base.html' %}

{% block head %}
<header>

</header>
{% endblock %}

{% block body %}
<form action="{{ url_for('calculate') }}" method="POST">
  <div class="input-data">
    <input type="text" required>
    <div class="underline"></div>
    <label for="input1">ادخل المبلغ</label> </div>


  <div class="input-data">
     <div class="input-data">
    <input type="number" min="2018" max="2018" required>
    <div class="underline"></div>
    <label for="input1">ادخل السنة</label> </div>

  </div>
  <br>
  <div>
    <button type="submit">احسبها</button>
  </div>
  <div>
    <label for="display">القيمة في سنه 2024:</label>
    <input id="display" name="result" value="{{ result }}" readonly>
  </div>
  <p id="error_message"></p>
  <div class="topHeader">
  <h1>حاسبة التضخم السعودي</h1>
</div>
</form>
<script>
  // Handle form submission and display errors (optional)
  document.querySelector('form').addEventListener('submit', function(event) {
    const nowNum = document.getElementById('input1').value; // Changed input id
    const date = document.getElementById('date').value;
    const errorMessage = document.getElementById('error_message');

    if (!nowNum || isNaN(nowNum)) {
      errorMessage.textContent = 'خطأ: يرجى إدخال رقم صالح للمبلغ.';
      event.preventDefault();
    } else if (!date || isNaN(date) || parseInt(date) < 2018 || parseInt(date) > 2023) {
      errorMessage.textContent = 'خطأ: يرجى إدخال سنة صالحة (2018-2023).';
      event.preventDefault();
    }
  });
</script>
{% endblock %}
