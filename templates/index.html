{% extends 'base.html' %}

{% block head %}
<header>
  <link href="https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Micro+5&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</header>
{% endblock %}





{% block body %}
<form action="{{ url_for('calculate') }}" method="POST">



  <div class="form__group field">
    <input draggable="false" type="input" class="form__field" placeholder="المبلغ" name="name" id='name' required />
    <label for="name" class="form__label">المبلغ </label>
  </div>


  <div class="form__group2 field">
    <input draggable="false" type="number" class="form__field2" placeholder="2018 - 2023 " name="date1" id='date1' min="2018" max="2023" required />
    <label for="date1" class="form__label2">التاريخ</label>
  </div>



<div class="calcContainer">
 <button class="calculateButton" type="submit"> احسب </button>
  </div>





  <div class="displayContainer">
    <div class="display" >
    <input type="number" value="{{ result }}" readonly>
    <label> القيمة في 2024</label>
  </div>
  </div>


  <p id="error_message"></p>


  <div class="topHeader">   </div>

  
  <div class="headerText">
    <h1>حاسبة التضخم السعودي 

    </h1>
</div>



<div class="leftHeader">
</div>
<div class="c0inPic">
  <img src="{{ url_for('static', filename='images/coin.png')}}">
</div>


<div class="menu-buttons">
  <ul> 
  <li>  <a draggable="false" href="https://github.com/osalyousef" class="menu-button">Github</a> </li>
  <li> <a draggable="false" href="https://www.linkedin.com/in/osamh-alyousef-30a279230/" class="menu-button2">Linkedin</a> </li>
  <li> <a draggable="false" href="https://twitter.com/os_fyousef" class="menu-button3">Twitter</a> </li>
  <li> <a draggable="false" href="https://ko-fi.com/osamaalyousef" class="menu-button4">ادعمني</a> </li>
</ul>
</div>
<div class="GithubPic">
  <img draggable="false"   src="{{ url_for('static', filename='images/GitHub.png')}}">
</div>
<div class="LinkedinPic">
  <img draggable="false" src="{{ url_for('static', filename='images/LinkedIn.png')}}">
</div>
<div class="twitterPic">
  <img draggable="false" src="{{ url_for('static', filename='images/Twitter.png')}}">
</div>
<div class="Ko-fiPic">
  <img draggable="false" src="{{ url_for('static', filename='images/Ko-fi S Logo.webp')}}">
</div>
</form>


<script>
  // Handle form submission and display errors
  document.querySelector('form').addEventListener('submit', function(event) {
    const nowNum = document.getElementById('input1').value; // Changed input id
    const date = document.getElementById('input2').value;
    const errorMessage = document.getElementById('error_message');

    if (!nowNum || isNaN(nowNum)) {
      errorMessage.textContent = 'خطأ: يرجى إدخال رقم صالح للمبلغ.';
      event.preventDefault();
    } else if (!date || isNaN(date) || parseInt(date) < 2018 || parseInt(date) > 2023) {
      errorMessage.textContent = 'خطأ: يرجى إدخال سنة صالحة (2018-2023).';
      event.preventDefault();
    }
  });
</script>
{% endblock %}
